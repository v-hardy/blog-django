{% extends "base.html" %}

{% block title %}Mi Blog: {{ articulo.titulo }}{% endblock %}

{% block content %}
<div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
        <!-- Título -->
        <h1 class="card-title mb-3">{{ articulo.titulo }}</h1>

        <!-- Metadatos -->
        <p class="text-muted">
            <i class="bi bi-person-fill"></i> {{ articulo.autor.username }} &nbsp; | &nbsp;
            <i class="bi bi-calendar-event-fill"></i> {{ articulo.fecha_publicacion|date:"d M Y" }}
        </p>

        <!-- Contenido -->
        <div class="mt-4 mb-4" style="line-height: 1.7;">
            {{ articulo.contenido|linebreaks }}
        </div>

        <!-- Imagen u otro contenido incluido -->
        {% include 'posts/fotos.html' %}

        <!-- Botones de acción si el usuario tiene permisos -->
        {% if user == articulo.autor or user.is_staff or user.is_superuser %}
            <div class="mt-4">
                <a href="{% url 'editar_articulo' articulo.pk %}" class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-pencil-fill"></i> Editar
                </a>
                <a href="{% url 'eliminar_articulo' articulo.pk %}" class="btn btn-outline-danger btn-sm">
                    <i class="bi bi-trash-fill"></i> Eliminar
                </a>
            </div>
        {% endif %}
    </div>
</div>

<!-- Sección de comentarios -->
<div class="card border-0 shadow-sm">
    <div class="card-body">
        {% include 'comments/comentarios.html' %}
    </div>
</div>
{% endblock %}
